/* Crow IDE Agent Panel Styles - Shades of Purple with Glass Morphism */

.crow-agent-panel {
  height: 100%;
  display: flex;
  flex-direction: column;
  background: linear-gradient(180deg,
    rgba(45, 43, 85, 0.95) 0%,
    rgba(30, 30, 63, 0.98) 100%) !important;
}

/* Override Tailwind gray backgrounds with glass effect */
.crow-agent-panel .bg-gray-900 {
  background: linear-gradient(180deg,
    rgba(30, 30, 63, 0.9) 0%,
    rgba(30, 30, 63, 0.95) 100%) !important;
  backdrop-filter: blur(4px);
}

.crow-agent-panel .bg-gray-800 {
  background: rgba(45, 43, 85, 0.8) !important;
  backdrop-filter: blur(4px);
}

.crow-agent-panel .bg-gray-700 {
  background: linear-gradient(135deg,
    rgba(58, 56, 117, 0.9) 0%,
    rgba(75, 73, 130, 0.8) 100%) !important;
}

/* Override Tailwind gray borders with subtle glow */
.crow-agent-panel .border-gray-700 {
  border-color: rgba(105, 67, 255, 0.2) !important;
}

.crow-agent-panel .border-gray-600 {
  border-color: rgba(105, 67, 255, 0.3) !important;
}

/* Override text colors */
.crow-agent-panel .text-gray-100 {
  color: var(--crow-text-primary, #e6e6e6) !important;
}

.crow-agent-panel .text-gray-400 {
  color: var(--crow-text-secondary, #a599e9) !important;
}

.crow-agent-panel .text-gray-500 {
  color: var(--crow-text-muted, #7e74a8) !important;
}

.crow-agent-panel .placeholder-gray-500::placeholder {
  color: var(--crow-text-muted, #7e74a8) !important;
}

.crow-agent-panel pre {
  width: 100%;
}

/* Prose styles for markdown content */
.crow-agent-panel .prose {
  max-width: none;
  color: var(--crow-text-primary, #e6e6e6);
  font-size: 14px;
  line-height: 1.6;
}

.crow-agent-panel .prose pre {
  background-color: var(--crow-bg-base, #1e1e3f);
  border-radius: 6px;
  padding: 12px;
  overflow-x: auto;
  border: 1px solid var(--crow-border-default, #4b4982);
  margin: 12px 0;
}

.crow-agent-panel .prose code {
  background-color: rgba(179, 98, 255, 0.15);
  border-radius: 4px;
  padding: 2px 6px;
  font-size: 13px;
  color: var(--crow-text-primary, #e6e6e6);
  font-family: var(--crow-font-mono, ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, monospace);
}

.crow-agent-panel .prose pre code {
  background-color: transparent;
  padding: 0;
}

.crow-agent-panel .prose p {
  margin: 8px 0;
}

.crow-agent-panel .prose ul,
.crow-agent-panel .prose ol {
  margin: 8px 0;
  padding-left: 20px;
}

.crow-agent-panel .prose li {
  margin: 4px 0;
}

.crow-agent-panel .prose a {
  color: var(--crow-text-link, #9effff);
  text-decoration: none;
}

.crow-agent-panel .prose a:hover {
  text-decoration: underline;
}

/* Tool call styling */
.crow-agent-panel .tool-call {
  background-color: var(--crow-bg-base, #1e1e3f);
  border: 1px solid var(--crow-border-default, #4b4982);
  border-radius: 6px;
  margin: 8px 0;
  overflow: hidden;
}

.crow-agent-panel .tool-call-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background-color: var(--crow-bg-elevated, #3a3875);
  border-bottom: 1px solid var(--crow-border-subtle, #3a3875);
  font-size: 12px;
  font-weight: 500;
  color: var(--crow-text-secondary, #a599e9);
}

.crow-agent-panel .tool-call-content {
  padding: 12px;
  font-family: var(--crow-font-mono, ui-monospace, monospace);
  font-size: 12px;
  color: var(--crow-text-secondary, #a599e9);
}

/* Message bubbles */
.crow-agent-panel .message-bubble {
  padding: 10px 14px;
  border-radius: 8px;
  margin: 4px 0;
  max-width: 85%;
}

.crow-agent-panel .message-bubble.user {
  background-color: var(--crow-accent-purple, #b362ff);
  color: white;
  margin-left: auto;
  border-bottom-right-radius: 4px;
}

.crow-agent-panel .message-bubble.assistant {
  background-color: var(--crow-bg-elevated, #3a3875);
  border: 1px solid var(--crow-border-subtle, #3a3875);
  border-bottom-left-radius: 4px;
}

/* Input area - glass morphism with glow focus */
.crow-agent-panel textarea {
  background: linear-gradient(180deg, rgba(30, 30, 63, 0.8) 0%, rgba(30, 30, 63, 0.9) 100%);
  border: 1px solid rgba(105, 67, 255, 0.25);
  color: var(--crow-text-primary, #e6e6e6);
  border-radius: 10px;
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

.crow-agent-panel textarea:hover {
  border-color: rgba(105, 67, 255, 0.4);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(179, 98, 255, 0.1);
}

.crow-agent-panel textarea:focus {
  border-color: var(--crow-accent-purple, #b362ff);
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.2),
    0 0 0 3px rgba(179, 98, 255, 0.2),
    0 0 20px rgba(179, 98, 255, 0.15);
  outline: none;
}

.crow-agent-panel textarea::placeholder {
  color: var(--crow-text-muted, #7e74a8);
}

/* Button polish with depth and glow */
.crow-agent-panel button {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 8px;
}

.crow-agent-panel button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 10px rgba(179, 98, 255, 0.2);
}

.crow-agent-panel button:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Loading indicator */
.crow-agent-panel .loading-spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Scrollbar styling within agent panel */
.crow-agent-panel ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.crow-agent-panel ::-webkit-scrollbar-track {
  background: transparent;
}

.crow-agent-panel ::-webkit-scrollbar-thumb {
  background-color: var(--crow-border-default, #4b4982);
  border-radius: 4px;
}

.crow-agent-panel ::-webkit-scrollbar-thumb:hover {
  background-color: var(--crow-border-emphasis, #6943ff);
}
